<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <style>
      label { display: block; margin-bottom: 7px;}
    </style>
  </head>
  <h1>Rocket Simulation</h1>
  <body>
    <!-- TODO: add form here -->
    <form method="POST" action="https://handlers.education.launchcode.org/request-parrot">
      <label>Testname <input type="text" name="testname" id="testname"></label>
      <label>Report Date<input type="date" name="reportDate" id="reportDate"></label>

      <label>Rocket Type:
        <!-- includes empty value "Select One" option -->
        <select name="operation">
           <option value="">* Select One *</option>
           <option value="1">Brant</option>
           <option value="2">Lynx</option>
           <option value="3">Orion</option>
           <option value="4">Terrier</option>
        </select>
        </label>

        <label>Number of Rocket Boosters<input type="number" name="rocketBoosterCount" min="1" max="9"/></label>

        <form action="https://handlers.education.launchcode.org/request-parrot" method="post">
          Wind Rating:
          <label>Rough<input type="radio" name="Wind" value="20"/></label>
          <label>Few Bumps<input type="radio" name="Wind" value="10"/></label>
          <label>Smooth<input type="radio" name="Wind" value="0"/></label>
       </form>

       <label>Use production grade servers<input type="checkbox" name="prodGradeServers"/></label>

      <button id="update">Run Simulation</button>
   </form>  
</body>
   <script>
         window.addEventListener("load", function() {
            fetch("https://handlers.education.launchcode.org/static/weather.json").then( function(response) {
               response.json().then( function(json) {
                  const div = document.getElementById("weather-conditions");
                  // Add HTML that includes the JSON data
                  div.innerHTML = `
                     <ul>
                        <li>Temp: ${json.temp}</li>
                        <li>Wind Speed: ${json.windSpeed}</li>
                        <li>Status: ${json.status}</li>
                        <li>Chance of Precip: ${json.chanceOfPrecipitation}</li>
                     </ul>
                  `;
               });
            });
         });
   </script>
       <!-- <h1>Launch Status</h1> -->
       Weather Conditions
       <div id="weather-conditions">
         <!-- TODO: dynamically add html about weather using data from API -->
       </div>
    <p>WARNING: This ONLY works in <b>replit</b> if this "result" page is opened in its own window. Click the icon that shows a box with an arrow coming out of it.
    </p>

  
</html>